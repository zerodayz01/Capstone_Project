<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>College Discovery</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style9.css') }}">
</head>
<body>
    <header>
        <h2>College Discovery</h2>
    </header>
    <main>
        <div class="topnav">
            <a class="navbuttons" href="index.html">Home</a>
            <a class="navbuttons" href="load.html">Access Tools</a>
            <a class="navbuttons" href="resources.html">Resources</a>
            <a class="navbuttons" href="more.html">Learn More</a>
            <a class="navbuttons" href="about.html">About Us</a>
            <a class="navbuttons" href="contact.html">Contact Universities</a>
        </div>

        <h1 class="text-box">University Expenses</h1>
        <div class="intro text-box" style="text-align: center;">
<ul>
    <li>
        </strong> Navigating university expenses can be a daunting task for students and their families. The cost of education involves various elements such as tuition, room and board, books, and other miscellaneous fees. At College Discovery, we understand the importance of transparency when it comes to these financial aspects. Our platform aims to simplify this process by providing a comprehensive overview of university expenses.
    </li>
</ul>

</div>
<form action="/search" method="GET" class="search-form">
<div style="display: flex; align-items: center;">
    <input type="text" id="query" name="query" required style="width: 300px; padding: 10px; margin-right: 10px;">
    <button type="submit" style="background-color: #333; color: #fff; padding: 10px 20px; font-size: 16px; font-weight: bold; border: none; cursor: pointer; border-radius: 5px;">Search</button>
</div>
</form>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.querySelector('form');
        const resultsDiv = document.getElementById('results');

        form.addEventListener('submit', function (event) {
            event.preventDefault();

            const query = document.getElementById('query').value;

            fetch(`/search?query=${query}`)
                .then(response => response.json())
                .then(data => {
                    const results = data.results;
                    resultsDiv.innerHTML = '';

                    if (results.length > 0) {
                        const table = document.createElement('table');
                        table.innerHTML = "<tr><th>School Name</th><th>Academic Year Cost</th><th>Books/Supplies</th><th>Tuition (Out of State)</th><th>Tuition (In State)</th><th>Room and Board (Off Campus)</th><th>Room and Board (On Campus)</th></tr>";

                        results.forEach(result => {
                            const row = table.insertRow(-1);
                            const cellName = row.insertCell(0);
                            const cellCostAttendance = row.insertCell(1);
                            const cellBookSupply = row.insertCell(2);
                            const cellTuitionOutState = row.insertCell(3);
                            const cellTuitionInState = row.insertCell(4);
                            const cellRoomBoardOffCampus = row.insertCell(5);
                            const cellRoomBoardOnCampus = row.insertCell(6);

                            cellName.innerHTML = result.school.name || 'N/A';
                            cellCostAttendance.innerHTML = result.latest.cost.attendance.academic_year ? '$' + result.latest.cost.attendance.academic_year.toLocaleString() : 'N/A';
                            cellBookSupply.innerHTML = result.latest.cost.booksupply ? '$' + result.latest.cost.booksupply.toLocaleString() : 'N/A';
                            cellTuitionOutState.innerHTML = result.latest.cost.tuition.out_of_state ? '$' + result.latest.cost.tuition.out_of_state.toLocaleString() : 'N/A';
                            cellTuitionInState.innerHTML = result.latest.cost.tuition.in_state ? '$' + result.latest.cost.tuition.in_state.toLocaleString() : 'N/A';
                            cellRoomBoardOffCampus.innerHTML = result.latest.cost.roomboard.offcampus ? '$' + result.latest.cost.roomboard.offcampus.toLocaleString() : 'N/A';
                            cellRoomBoardOnCampus.innerHTML = result.latest.cost.roomboard.oncampus ? '$' + result.latest.cost.roomboard.oncampus.toLocaleString() : 'N/A';
                        });

                        resultsDiv.appendChild(table);
                    } else {
                        resultsDiv.innerHTML = "<p>No results found.</p>";
                    }
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                    resultsDiv.innerHTML = "<p>An error occurred while fetching data.</p>";
                });
        });
    });
</script>



        <div id="results" class="styled-table"></div>


    </main>
<footer class="footer">
    <div class="footer-content">
        <div class="footer-section">
            <h2>Contact Us</h2>
            <p>Email: <a href="mailto:info.collegediscovery@gmail.com">info.collegediscovery@gmail.com</a></p>
            <p>Fax: 1(800)-456-789</p>
            <p>Phone: 1(800)-456-789</p>
        </div>
        <div class="footer-section">
        <h2>Alternative Options</h2>
        <p><a href="https://www.forbes.com/advisor/education/trade-schools/guide-to-trade-school-vocational-programs/" target="_blank">Trade/Vocational School</a></p>
        <p><a href="https://www.mass.gov/info-details/authorized-real-estate-schools" target="_blank">Authorized Real Estate Schools</a></p>
        <p><a href="https://www.understood.org/en/articles/after-high-school-different-paths-to-success" target="_blank">Different Paths to Success</a></p>
        </div>
        <div class="footer-section">
            <h2>Quick Links</h2>
            <p><a href="index.html">Home</a></p>
            <p><a href="load.html">Access Tools</a></p>
            <p><a href="resources.html">Resources</a></p>
        </div>
    </div>
    <div class="copyright">
        &copy; 2023 College Discovery. All rights reserved.
    </div>
</footer>
</body>
</html>
